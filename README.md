# 高性能 Web 服务器

这是一个基于 C++实现的高性能 Web 服务器，采用了 Reactor 模式设计，支持 HTTP GET 和 POST 请求处理。

## 主要特性

- 使用**线程池 + 非阻塞 socket + epoll**实现高并发处理
- 采用正则解析 HTTP 请求报文
- 支持 HTTP GET 和 POST 方法
- 使用 RAII 机制管理资源
- 支持优雅关闭连接
- 使用智能指针自动管理资源

## 环境要求

- Linux 操作系统
- G++编译器
- 支持 C++11 标准

## 编译运行

1. 编译

   ```bash
   g++ -o server main.cpp http_conn.cpp -pthread
   ```

2. 运行
   ```bash
   ./server 10000
   ```

## 代码架构

- **main.cpp**: 主函数，处理客户端连接，创建线程池并分配任务
- **http_conn.h/cpp**: HTTP 连接类，处理 HTTP 请求的解析与响应
- **threadpool.h**: 线程池类，管理工作线程
- **locker.h**: 封装了互斥锁、条件变量和信号量等线程同步机制

## 核心模块

1. **线程池**：固定数量线程，避免频繁创建销毁线程带来的系统开销
2. **HTTP 处理**：支持 GET 和 POST 方法处理
3. **事件处理**：使用 epoll 实现 I/O 多路复用

## HTTP 请求处理

### GET 方法

- 解析请求行和请求头
- 识别请求的资源路径
- 返回对应的静态文件

### POST 方法

- 完整支持 POST 请求的解析
- 支持请求体内容解析
- 可处理表单提交等操作
- 专用响应页面展示处理结果

## 功能演示

服务器启动后，能够响应浏览器的请求，返回静态资源（如 HTML、图片等）。

- 访问 `/form.html` 可测试 POST 方法
- POST 请求处理后会返回专门的响应页面

## 待实现功能

- 实现动态内容处理
- 引入数据库连接池
- 增强安全性
- 支持 HTTPS
- 完善日志记录系统
